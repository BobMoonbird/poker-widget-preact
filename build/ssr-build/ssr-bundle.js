module.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="./",r(r.s="QfWi")}({"+E3a":function(t,e,r){},"+TSP":function(t,e,r){t.exports=window.fetch||(window.fetch=r("YUY5").default||r("YUY5"))},"1ksb":function(t,e,r){},"5+HP":function(t,e,r){"use strict";r.r(e);var n=function(t){var e=this.constructor;return this.then((function(r){return e.resolve(t()).then((function(){return r}))}),(function(r){return e.resolve(t()).then((function(){return e.reject(r)}))}))},o=setTimeout;function a(t){return Boolean(t&&void 0!==t.length)}function i(){}function c(t){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function u(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,c._immediateFn((function(){var r=1===t._state?e.onFulfilled:e.onRejected;if(null!==r){var n;try{n=r(t._value)}catch(t){return void l(e.promise,t)}s(e.promise,n)}else(1===t._state?s:l)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if(e instanceof c)return t._state=3,t._value=e,void p(t);if("function"==typeof r)return void d((n=r,o=e,function(){n.apply(o,arguments)}),t)}t._state=1,t._value=e,p(t)}catch(e){l(t,e)}var n,o}function l(t,e){t._state=2,t._value=e,p(t)}function p(t){2===t._state&&0===t._deferreds.length&&c._immediateFn((function(){t._handled||c._unhandledRejectionFn(t._value)}));for(var e=0,r=t._deferreds.length;e<r;e++)u(t,t._deferreds[e]);t._deferreds=null}function f(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}function d(t,e){var r=!1;try{t((function(t){r||(r=!0,s(e,t))}),(function(t){r||(r=!0,l(e,t))}))}catch(t){if(r)return;r=!0,l(e,t)}}c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){var r=new this.constructor(i);return u(this,new f(t,e,r)),r},c.prototype.finally=n,c.all=function(t){return new c((function(e,r){if(!a(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);var o=n.length;function i(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,(function(e){i(t,e)}),r)}n[t]=a,0==--o&&e(n)}catch(t){r(t)}}for(var c=0;c<n.length;c++)i(c,n[c])}))},c.resolve=function(t){return t&&"object"==typeof t&&t.constructor===c?t:new c((function(e){e(t)}))},c.reject=function(t){return new c((function(e,r){r(t)}))},c.race=function(t){return new c((function(e,r){if(!a(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,o=t.length;n<o;n++)c.resolve(t[n]).then(e,r)}))},c._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){o(t,0)},c._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};e.default=c},HteQ:function(t,e){t.exports=require("preact")},KA6b:function(t,e,r){t.exports={home:"home__MVGbg"}},L76c:function(t,e,r){t.exports={sidebar:"sidebar__U7KN2"}},QfWi:function(t,e,r){"use strict";r.r(e);r("+E3a");var n=r("HteQ"),o={};function a(t,e){for(var r in e)t[r]=e[r];return t}function i(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:t.index-e.index}function c(t,e){return t.index=e,t.rank=function(t){return t.props.default?0:(e=t.props.path,u(e).map(s).join(""));var e}(t),t.props}function u(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function s(t){return":"==t.charAt(0)?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}var l=null,p=[],f=[],d={};function h(){var t;return""+((t=l&&l.location?l.location:l&&l.getCurrentLocation?l.getCurrentLocation():"undefined"!=typeof location?location:d).pathname||"")+(t.search||"")}function v(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&t.url&&(e=t.replace,t=t.url),function(t){for(var e=p.length;e--;)if(p[e].canRoute(t))return!0;return!1}(t)&&function(t,e){void 0===e&&(e="push"),l&&l[e]?l[e](t):"undefined"!=typeof history&&history[e+"State"]&&history[e+"State"](null,null,t)}(t,e?"replace":"push"),m(t)}function m(t){for(var e=!1,r=0;r<p.length;r++)!0===p[r].routeTo(t)&&(e=!0);for(var n=f.length;n--;)f[n](t);return e}function y(t){if(t&&t.getAttribute){var e=t.getAttribute("href"),r=t.getAttribute("target");if(e&&e.match(/^\//g)&&(!r||r.match(/^_?self$/i)))return v(e)}}function b(t){if(0==t.button)return y(t.currentTarget||t.target||this),g(t)}function g(t){return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault()),!1}function w(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button)){var e=t.target;do{if("A"===String(e.nodeName).toUpperCase()&&e.getAttribute("href")){if(e.hasAttribute("native"))return;if(y(e))return g(t)}}while(e=e.parentNode)}}var _=!1;var j=function(t){function e(e){t.call(this,e),e.history&&(l=e.history),this.state={url:e.url||h()},_||("function"==typeof addEventListener&&(l||addEventListener("popstate",(function(){m(h())})),addEventListener("click",w)),_=!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.shouldComponentUpdate=function(t){return!0!==t.static||(t.url!==this.props.url||t.onChange!==this.props.onChange)},e.prototype.canRoute=function(t){var e=Object(n.toChildArray)(this.props.children);return this.getMatchingChildren(e,t,!1).length>0},e.prototype.routeTo=function(t){this.setState({url:t});var e=this.canRoute(t);return this.updating||this.forceUpdate(),e},e.prototype.componentWillMount=function(){p.push(this),this.updating=!0},e.prototype.componentDidMount=function(){var t=this;l&&(this.unlisten=l.listen((function(e){t.routeTo(""+(e.pathname||"")+(e.search||""))}))),this.updating=!1},e.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),p.splice(p.indexOf(this),1)},e.prototype.componentWillUpdate=function(){this.updating=!0},e.prototype.componentDidUpdate=function(){this.updating=!1},e.prototype.getMatchingChildren=function(t,e,r){return t.filter(c).sort(i).map((function(t){var i=function(t,e,r){var n,a=/(?:\?([^#]*))?(#.*)?$/,i=t.match(a),c={};if(i&&i[1])for(var s=i[1].split("&"),l=0;l<s.length;l++){var p=s[l].split("=");c[decodeURIComponent(p[0])]=decodeURIComponent(p.slice(1).join("="))}t=u(t.replace(a,"")),e=u(e||"");for(var f=Math.max(t.length,e.length),d=0;d<f;d++)if(e[d]&&":"===e[d].charAt(0)){var h=e[d].replace(/(^:|[+*?]+$)/g,""),v=(e[d].match(/[+*?]+$/)||o)[0]||"",m=~v.indexOf("+"),y=~v.indexOf("*"),b=t[d]||"";if(!b&&!y&&(v.indexOf("?")<0||m)){n=!1;break}if(c[h]=decodeURIComponent(b),m||y){c[h]=t.slice(d).map(decodeURIComponent).join("/");break}}else if(e[d]!==t[d]){n=!1;break}return(!0===r.default||!1!==n)&&c}(e,t.props.path,t.props);if(i){if(!1!==r){var c={url:e,matches:i};return a(c,i),delete c.ref,delete c.key,Object(n.cloneElement)(t,c)}return t}})).filter(Boolean)},e.prototype.render=function(t,e){var r=t.children,o=t.onChange,a=e.url,i=this.getMatchingChildren(Object(n.toChildArray)(r),a,!0),c=i[0]||null,u=this.previousUrl;return a!==u&&(this.previousUrl=a,"function"==typeof o&&o({router:this,url:a,previous:u,active:i,current:c})),c},e}(n.Component);j.subscribers=f,j.getCurrentUrl=h,j.route=v,j.Router=j,j.Route=function(t){return Object(n.createElement)(t.component,t)},j.Link=function(t){return Object(n.createElement)("a",a({onClick:b},t))};var O=r("KA6b"),C=r.n(O),P=r("pvgs"),A=r.n(P),S=r("SyCT"),x=r.n(S);var k=function(){miro.board.openLibrary("Poker Planning","sidebar"),miro.board.ui.openBottomPanel("bottomPanel",{width:208})},H=function(t){var e,r;function o(){return t.apply(this,arguments)||this}r=t,(e=o).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var a=o.prototype;return a.componentDidMount=function(){miro.onReady((function(){miro.initialize({extensionPoints:{toolbar:{title:"Poker Planning",toolbarSvgIcon:A.a,librarySvgIcon:x.a,onClick:function(){return new Promise((function(t,e){return Promise.resolve(miro.isAuthorized()).then(function(r){try{return r?(k(),n.call(this)):Promise.resolve(miro.board.ui.openModal("authorize")).then(function(t){try{return"success"===t&&k(),n.call(this)}catch(t){return e(t)}}.bind(this),e);function n(){return t()}}catch(t){return e(t)}}.bind(this),e)}))}}}})}))},a.render=function(){return Object(n.h)("div",{class:C.a.home},Object(n.h)("h1",null,"Home"),Object(n.h)("p",null,"This is the Home component."))},o}(n.Component),L=r("L76c"),M=r.n(L),R=r("n5xL"),E=r.n(R),T=r("duEm"),W=r.n(T),I="3074457347007443177",V=[1,2,3,4,5,6],U=[{label:"0",value:0},{label:"½",value:.5},{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"5",value:5},{label:"8",value:8},{label:"13",value:13},{label:"20",value:20},{label:"40",value:40},{label:"100",value:100},{label:"∞",value:"infinity"},{label:"?",value:"question"},{label:"☕",value:"coffee"}],D=U.reduce((function(t,e){return t[e.value]=e,t}),{});function B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?B(r,!0).forEach((function(e){Z(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var F=function(t,e){if(void 0===e&&(e=I),!e)throw new Error("No appId specified");return t.metadata[e]||{}},N=function(t,e,r){var n;return void 0===r&&(r=I),z({},t.metadata,((n={})[r]=z({},t.metadata[r],{},e),n))};function Y(){return new Promise((function(t,e){return Promise.resolve(miro.board.widgets.get()).then((function(r){try{return t(r.filter((function(t){return"card"===F(t).type})))}catch(t){return e(t)}}),e)}))}var K=function(t,e){return void 0===e&&(e=""),window.location.origin+"/assets/cards/"+t+e+".svg"};var q=function(t){var e,r;function o(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).handleReveal=function(t){return new Promise((function(r,n){var o,a;return"function"==typeof e.props.onBeforeReveal&&e.props.onBeforeReveal(t),Promise.resolve(Y()).then((function(t){try{return o=t.filter((function(t){return"back"===F(t).side})),a=o.map((function(t){var e=t.id,r=F(t).value;return{id:e,metadata:N(t,{side:"face"}),url:K("face",r)}})),Promise.resolve(miro.board.widgets.update(a)).then((function(t){try{return"function"==typeof e.props.onReveal&&e.props.onReveal(),r()}catch(t){return n(t)}}),n)}catch(t){return n(t)}}),n)}))},e.handleClear=function(t){return new Promise((function(r,n){var o,a;return"function"==typeof e.props.onBeforeClear&&e.props.onBeforeClear(t),Promise.resolve(Y()).then((function(t){try{return o=t.filter((function(t){return"card"===F(t).type})).map((function(t){return t.id})),a=miro.board.widgets.deleteById(o),console.log("deleted",a.length,"cards"),"function"==typeof e.props.onClear&&e.props.onClear(),r()}catch(t){return n(t)}}),n)}))},e}return r=t,(e=o).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,o.prototype.render=function(){return Object(n.h)("nav",{class:W.a.wrapper},Object(n.h)("button",{type:"button",class:"miro-btn miro-btn--primary miro-btn--small",onClick:this.handleReveal},"Reveal all"),Object(n.h)("button",{class:"miro-btn miro-btn--secondary miro-btn--small",type:"button",onClick:this.handleClear},"Clear all"))},o}(n.Component);var $=6;function J(){var t,e,r=(t=1,e=$,Math.floor(Math.random()*(e-t+1))+t);return K("back",r)}var Q=function(t){var e,r;function o(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).state={loaded:!1},e.handleLoad=function(){e.setState({loaded:!0})},e}return r=t,(e=o).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,o.prototype.render=function(t){var e=t.value,r=t.disabled,o=t.label,a=t.index,i=t.cards,c=void 0===i?[]:i,u=K("face",e),s=50*(c.length-a);return Object(n.h)("div",{class:E.a.cardWrapper,style:{animationDelay:"-"+s+"ms"}},Object(n.h)("button",{class:E.a.card,title:o,disabled:Boolean(r),"data-loaded":this.state.loaded?"yes":"no","data-value":e,type:"button",style:{backgroundImage:"url("+u+")"},"data-image-url":u},Object(n.h)("span",null,o)),Object(n.h)("img",{class:E.a.hiddenImg,onLoad:this.handleLoad,src:u}))},o}(n.Component),X=function(t){var e=t.disabled;return Object(n.h)(n.Fragment,null,U.map((function(t,r,o){var a=t.label,i=t.value;return Object(n.h)(Q,{key:i,disabled:e,label:a,value:i,index:r,cards:o})})))};var G=function(t){var e,r;function o(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).handleSwap=function(t){return new Promise((function(r,n){"function"==typeof e.props.onBeforeSwap&&e.props.onBeforeSwap(t);var o=function(){try{return r()}catch(t){return n(t)}},a=function(t){try{return console.error(e.props.chosenCardWidget.id),console.error(t),"function"==typeof e.props.onError&&e.props.onError(t),o()}catch(t){return n(t)}};try{return Promise.resolve(miro.board.widgets.deleteById([e.props.chosenCardWidget.id])).then((function(r){try{return"function"==typeof e.props.onSwap&&e.props.onSwap(t),o()}catch(t){return a(t)}}),a)}catch(t){a(t)}}))},e}return r=t,(e=o).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,o.prototype.render=function(t){var e=t.chosenCardWidget,r=D[F(e).value],o=r.value,a=r.label;return Object(n.h)("section",{class:E.a.chosenCardWrapper},Object(n.h)("h4",{class:"miro-h2"},"Your card"),Object(n.h)(Q,{value:o,label:a,disabled:!0}),Object(n.h)("button",{onClick:this.handleSwap,type:"button",class:"miro-btn miro-btn--secondary miro-btn--small"},"Swap"))},o}(n.Component),tt=10,et=20,rt=function(t,e){return Math.round(t/e)*e};var nt=r("uXYu"),ot=r.n(nt),at=function(t){var e=t.severity,r=t.title,o=t.children;return Object(n.h)("section",{class:ot.a.wrapper,"data-severity":e},Object(n.h)("h4",{class:"miro-h4"},r),o)},it=function(){return Object(n.h)(n.Fragment,null,V.map((function(t){return Object(n.h)("img",{class:E.a.hiddenCard,key:t,src:K("back",t)})})))};var ct=1.5,ut=function(t){var e,r;function o(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).state={time:Date.now(),count:10,loading:!0,error:null,chosenCardWidget:null,showList:!0},e.ref=Object(n.createRef)(),e.onReady=function(){var t,r;miro.board.ui.initDraggableItemsContainer(e.ref.current,{draggableItemSelector:"."+E.a.card,onClick:function(e){t=e.dataset.value},getDraggableItemPreview:function(e){return r=J(),t=e.dataset.value,{width:e.offsetWidth,height:e.offsetWidth*ct,url:r}},onDrop:function(n,o){return new Promise((function(a,i){var c,u;return e.hideList(),c={type:"card",side:"back",value:t,author:e.state.id},Promise.resolve(function(t){var e,r=t.x,n=t.y,o=t.url,a=t.metadata;return miro.board.widgets.create({type:"image",url:o,x:rt(r,tt),y:rt(n,et),capabilities:{editable:!1},metadata:(e={},e[I]=a,e)})}({x:n,y:o,url:r,metadata:c})).then((function(t){try{return u=t[0],e.setChosenCard(u),a()}catch(t){return i(t)}}),i)}))}})},e.setChosenCard=function(t,r){var n=t;e.setState({chosenCardWidget:n,showList:!1},r),e.checkCardExistence(t.id)},e.checkCardExistence=function(t){return new Promise((function(r,n){var o=function(){try{return r()}catch(t){return n(t)}},a=function(t){try{return e.clearChosenCard(),o()}catch(t){return n(t)}};try{return Promise.resolve(miro.board.widgets.update([{id:t}])).then((function(r){try{return setTimeout(e.checkCardExistence,1e3,t),o()}catch(t){return a()}}),a)}catch(t){a()}}))},e.hideList=function(){e.setState({showList:!1})},e.showList=function(){e.setState({showList:!0})},e.clearChosenCard=function(t){e.setState({chosenCardWidget:null,showList:!0},t)},e.handleBeforeClear=function(){return new Promise((function(t,r){return e.clearChosenCard(),t()}))},e.handleReveal=function(){return new Promise((function(t,e){return t()}))},e.init=function(){return new Promise((function(t,r){var n,o,a,i;if(!miro.currentUser)return t(e.setState({error:"Seems like the app is running not as a part of Miro board"}));var c=function(){try{return t()}catch(t){return r(t)}},u=function(t){try{return console.error(t),e.setState({error:t.toString()}),c()}catch(t){return r(t)}};try{return Promise.resolve(Promise.all([miro.currentUser.getId(),Y()])).then((function(t){try{return o=(n=t)[0],a=n[1],(i=a.find((function(t){return F(t).author===o})))&&e.setChosenCard(i),e.setState({id:o,loading:!1},(function(){miro.onReady(e.onReady)})),c()}catch(t){return u(t)}}),u)}catch(t){u(t)}}))},e.onWidgetsDeleted=function(t){var r=t.data,n=e.state.chosenCardWidget;if(!n)return!1;r.find((function(t){return t.id===n.id}))&&e.clearChosenCard()},e}r=t,(e=o).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var a=o.prototype;return a.componentDidMount=function(){this.init()},a.render=function(t,e){!function(t){if(null==t)throw new TypeError("Cannot destructure undefined")}(t);var r=e.chosenCardWidget,o=e.showList,a=e.loading,i=e.error;return i?Object(n.h)(at,{severity:"error",title:"Oooops..."},Object(n.h)("code",null,i)):Object(n.h)(n.Fragment,null,Object(n.h)("div",{class:E.a.controlsWrapper},Object(n.h)(q,{onReveal:this.handleReveal,onBeforeClear:this.handleBeforeClear})),Object(n.h)("div",{ref:this.ref,class:E.a.wrapper},!r&&!a&&Object(n.h)(X,{disabled:!o})),Boolean(r)&&Object(n.h)(G,{chosenCardWidget:r}),Object(n.h)(it,null))},o}(n.Component);var st=function(t){var e,r;function o(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).state={time:Date.now(),count:10},e.updateTime=function(){e.setState({time:Date.now()})},e.increment=function(){e.setState({count:e.state.count+1})},e}r=t,(e=o).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var a=o.prototype;return a.componentDidMount=function(){this.timer=setInterval(this.updateTime,1e3)},a.componentWillUnmount=function(){clearInterval(this.timer)},a.render=function(t,e){t.user,e.time,e.count;return Object(n.h)("div",{class:M.a.sidebar},Object(n.h)(ut,null))},o}(n.Component),lt=r("1ksb"),pt=r.n(lt);var ft=function(t){var e,r;function o(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).state={time:1},e}return r=t,(e=o).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,o.prototype.render=function(t,e){t.user,e.time,e.count;return Object(n.h)("div",{class:pt.a.sidebar},Object(n.h)(q,null))},o}(n.Component),dt=r("ccaj"),ht=r.n(dt);var vt={response_type:"token",redirect_uri:"https://"+window.location.host+"/authorize-success"},mt=function(t){var e,r;function o(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).ref=Object(n.createRef)(),e.handleAuthorize=function(){return new Promise((function(t,e){return Promise.resolve(miro.authorize(vt)).then((function(r){try{return Promise.resolve(miro.getToken()).then((function(r){try{return r?miro.board.ui.closeModal("success"):console.log("Something went wrong"),t()}catch(t){return e(t)}}),e)}catch(t){return e(t)}}),e)}))},e}r=t,(e=o).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var a=o.prototype;return a.componentDidMount=function(){this.ref.current&&(this.ref.current.innerHTML=x.a)},a.render=function(){return Object(n.h)("section",{class:ht.a.wrapper},Object(n.h)("h2",{class:"miro-h2"},"Poker planning widget"),Object(n.h)("p",{class:"miro-p"},"To use the widget, please authorize it in your account"),Object(n.h)("div",{class:ht.a.svgWrapper},Object(n.h)("svg",{class:ht.a.svg,ref:this.ref})),Object(n.h)("button",{type:"button",class:"miro-btn miro-btn--primary miro-btn--medium",onClick:this.handleAuthorize},"Authorize app"))},o}(n.Component);var yt=function(t){var e,r;function o(){return t.apply(this,arguments)||this}r=t,(e=o).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var a=o.prototype;return a.componentDidMount=function(){window.opener&&window.opener.miroAuthorized()},a.render=function(){return Object(n.h)("section",null,"Authorized!")},o}(n.Component);var bt=function(t){var e,r;function o(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).handleRoute=function(t){e.currentUrl=t.url},e}r=t,(e=o).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var a=o.prototype;return a.componentDidMount=function(){var t=localStorage.getItem("path");t&&(localStorage.removeItem("path"),v(t,!0))},a.render=function(){return Object(n.h)(j,{onChange:this.handleRoute},Object(n.h)(H,{path:"/"}),Object(n.h)(st,{path:"/sidebar/",user:"me"}),Object(n.h)(ft,{path:"/bottomPanel/",user:"me"}),Object(n.h)(mt,{path:"/authorize/"}),Object(n.h)(yt,{path:"/authorize-success/"}))},o}(n.Component);function gt(){return(gt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var wt=function(t){var e,r=t.selector,n=t.inline,o=t.clientSpecified,a=[],i=document.currentScript||(e=document.getElementsByTagName("script"))[e.length-1];if(!0===n){var c=i.parentNode;a.push(c)}return!0!==o||r||(r=function(t){var e=t.attributes,r=null;return Object.keys(e).forEach((function(t){e.hasOwnProperty(t)&&("data-mount-in"===e[t].name&&(r=e[t].nodeValue))})),r}(i)),r&&[].forEach.call(document.querySelectorAll(r),(function(t){a.push(t)})),a},_t=function(t,e,r,o,a){e.forEach((function(e){var i=e;if(!i._habitat){i._habitat=!0;var c=function(t,e){void 0===e&&(e={});var r=t.attributes,n=gt({},e);return Object.keys(r).forEach((function(t){if(r.hasOwnProperty(t)){var e=r[t].name;if(!e||"string"!=typeof e)return!1;var o=e.split(/(data-props?-)/).pop()||"";if(e!==(o=o.replace(/-([a-z])/gi,(function(t,e){return e.toUpperCase()})))){var a=r[t].nodeValue;n[o]=a}}})),[].forEach.call(t.getElementsByTagName("script"),(function(t){var e={};if(t.hasAttribute("type")){if("text/props"!==t.getAttribute("type")&&"application/json"!==t.getAttribute("type"))return;try{e=JSON.parse(t.innerHTML)}catch(t){throw new Error(t)}gt(n,e)}})),n}(e,a)||a;return o&&(i.innerHTML=""),Object(n.render)(Object(n.h)(t,c),i,r)}}))},jt=function(t){var e=t;return{render:function(t){void 0===t&&(t={});var r=t.selector;void 0===r&&(r=null);var n=t.inline;void 0===n&&(n=!1);var o=t.clean;void 0===o&&(o=!1);var a=t.clientSpecified;void 0===a&&(a=!1);var i=t.defaultProps;void 0===i&&(i={});var c=wt({selector:r,inline:n,clientSpecified:a}),u=function(){if(c.length>0){var t=wt({selector:r,inline:n,clientSpecified:a});return _t(e,t,null,o,i)}};u(),document.addEventListener("DOMContentLoaded",u),document.addEventListener("load",u)}}};r("Ve17");jt(bt).render({selector:'[data-widget-host="habitat"]',clean:!0})},SyCT:function(t,e){t.exports='<rect fill="#fff9df" x="22" y="2" width="24" height="36" rx="2.7619" ry="2.7619"></rect><path fill="#3e52d8" d="M46.01,0H21.99A1.99,1.99,0,0,0,20,1.99V8h3V3H45V37H28v3H46.01A1.99,1.99,0,0,0,48,38.01h0V1.99A1.99,1.99,0,0,0,46.01,0Z"></path><path fill="none" d="M26.01,8H1.99A1.99,1.99,0,0,0,0,9.99V46.01A1.99,1.99,0,0,0,1.99,48H26.01A1.99,1.99,0,0,0,28,46.01h0V9.99A1.99,1.99,0,0,0,26.01,8Z"></path><path fill="#3e52d8" d="M26.01,8H1.99A1.99,1.99,0,0,0,0,9.99V46.01A1.99,1.99,0,0,0,1.99,48H26.01A1.99,1.99,0,0,0,28,46.01h0V9.99A1.99,1.99,0,0,0,26.01,8Z"></path><path fill="#050039" d="M.58,24.0005c-.1944-.0013-.3864.0074-.58.0107V46.01A1.99,1.99,0,0,0,1.99,48H24.6346A24.2268,24.2268,0,0,0,.58,24.0005Z"></path><path fill="#ffd02f" d="M.2225,33.33c-.0752,0-.1477.01-.2225.0112V46.01A1.99,1.99,0,0,0,1.99,48h13.3A15.0792,15.0792,0,0,0,.2225,33.33Z"></path><path fill="#ff6474" d="M26.01,8H12.4214A15.7832,15.7832,0,0,0,28,23.579V9.99A1.99,1.99,0,0,0,26.01,8Z"></path>'},Ve17:function(t,e,r){global.Promise||(global.Promise=r("5+HP").default),global.fetch||(global.fetch=r("+TSP"))},YUY5:function(t,e,r){"use strict";r.r(e),e.default=function(t,e){return e=e||{},new Promise((function(r,n){var o=new XMLHttpRequest,a=[],i=[],c={};for(var u in o.open(e.method||"get",t,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,r){a.push(e=e.toLowerCase()),i.push([e,r]),c[e]=c[e]?c[e]+","+r:r})),r(function t(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(JSON.parse(o.responseText))},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:t,headers:{keys:function(){return a},entries:function(){return i},get:function(t){return c[t.toLowerCase()]},has:function(t){return t.toLowerCase()in c}}}}())},o.onerror=n,o.withCredentials="include"==e.credentials,e.headers)o.setRequestHeader(u,e.headers[u]);o.send(e.body||null)}))}},ccaj:function(t,e,r){t.exports={wrapper:"wrapper__2JnRV",svg:"svg__2hhJb",svgWrapper:"svgWrapper__2EBVO"}},duEm:function(t,e,r){t.exports={wrapper:"wrapper__18AHL"}},n5xL:function(t,e,r){t.exports={cardWrapper:"cardWrapper__1MWxn",appear:"appear__3Vz41",card:"card__3IJo5",floating:"floating__34mDX",hiddenImg:"hiddenImg__1BjkP",chosenCardWrapper:"chosenCardWrapper__3hGqt",wrapper:"wrapper__3uuSv",controlsWrapper:"controlsWrapper__1xvok",hiddenCard:"hiddenCard__33y6H"}},pvgs:function(t,e){t.exports='<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M23.0049,0h-12.01A.9952.9952,0,0,0,10,.9951V4H.9951A.9952.9952,0,0,0,0,4.9951v18.01A.9952.9952,0,0,0,.9951,24h12.01A.9952.9952,0,0,0,14,23.0049V20h9.0049A.9952.9952,0,0,0,24,19.0049V.9951A.9952.9952,0,0,0,23.0049,0ZM12,22H2V6H12Zm10-4H14V4.9951A.9952.9952,0,0,0,13.0049,4H12V2H22ZM4,9H4A1,1,0,0,1,3,8H3A1,1,0,0,1,4,7H4A1,1,0,0,1,5,8H5A1,1,0,0,1,4,9Zm3,7H7a2,2,0,0,1-2-2H5a2,2,0,0,1,2-2H7a2,2,0,0,1,2,2H9A2,2,0,0,1,7,16Zm3,5h0a1,1,0,0,1-1-1H9a1,1,0,0,1,1-1h0a1,1,0,0,1,1,1h0A1,1,0,0,1,10,21Z"></path></svg>'},uXYu:function(t,e,r){t.exports={wrapper:"wrapper__jTLi2"}}});
//# sourceMappingURL=ssr-bundle.js.map